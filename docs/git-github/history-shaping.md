# 履歴を整える（rebase / squash）

## この章でできるようになること

- rebase / squash が「何のためにあるか」を説明できる
- 「履歴を綺麗にして」と言われたときの意図がわかる

## まず大前提：履歴は“会話”のためのもの

履歴が読みやすいと、あとから

- なぜ変えたか（理由）
- 何を変えたか（差分）
- いつ誰が決めたか（文脈）

を追いやすくなります。

## squash（コミットを1つにまとめる）

**複数のコミットを1つにまとめて**取り込むことです。  
GitHub の PR では「Squash and merge」として出てきます。

会話の意図:

- 「細かい試行錯誤コミットをまとめて、1つの変更として残したい」

## rebase（履歴を積み直して並びを整える）

ざっくり言うと、**分岐点を付け替えて、履歴を一直線っぽく整える**操作です。

会話の意図:

- 「main の最新を取り込んで、コンフリクトを早めに解消しておきたい」
- 「履歴を読みやすくしたい」

注意（非エンジニア向けの最小だけ）:

- 共有済みのブランチに対して rebase すると、他人の履歴とズレて事故りやすい  
  → ここはチーム運用に従えばOK


